<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2" />
    <meta name="description" content="elFinder - file manager from Web" />
    <script type="text/javascript" charset="utf-8">
      if (location.href.match(/^http:/)) {
        location.href = 'https' + location.href.substr(4);
      }
    </script>
    <title>elFinder 2.1.x - file manager for web</title>
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Ubuntu:bold&amp;v1" />
    <link rel="stylesheet" type="text/css" href="./stylesheets/default.css" />
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="./demo/css/elfinder.min.css" />
    <link rel="stylesheet" type="text/css" href="./demo/css/theme.css" />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico">
    <!-- Require JS (REQUIRED) -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"></script>
    <script type="text/javascript">
      (function(){
        var i18nFolderMsgs = {},
          rootPath = './demo',
          // Detect language (optional)
          lang = (function() {
            var locq = window.location.search,
              fullLang, locm, lang;
            if (locq && (locm = locq.match(/lang=([a-zA-Z_-]+)/))) {
              // detection by url query (?lang=xx)
              fullLang = locm[1];
            } else {
              // detection by browser language
              fullLang = (navigator.browserLanguage || navigator.language || navigator.userLanguage);
            }
            lang = fullLang.substr(0,2);
            if (lang === 'ja') lang = 'jp';
            else if (lang === 'pt') lang = 'pt_BR';
            else if (lang === 'ug') lang = 'ug_CN';
            else if (lang === 'zh') lang = (fullLang.substr(0,5) === 'zh-tw')? 'zh_TW' : 'zh_CN';
            return lang;
          })(),
          
          // elFinder options (REQUIRED)
          // Documentation for client options:
          // https://github.com/Studio-42/elFinder/wiki/Client-configuration-options
          opts = {
            url : '//hypweb.net/elFinder-nightly/demo/2.1/php/connector.minimal.php',
            soundPath: './demo/sounds',
            sync: 5000,
            ui  : ['toolbar', 'places', 'tree', 'path', 'stat'],
            commandsOptions : {
              quicklook : {
                googleDocsMimes : ['application/pdf', 'image/tiff', 'application/vnd.ms-office', 'application/msword', 'application/vnd.ms-word', 'application/vnd.ms-excel', 'application/vnd.ms-powerpoint', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet']
              }
            },
            handlers : {
              init : function(e, fm) {
                $.extend(fm.messages, i18nFolderMsgs.en, i18nFolderMsgs[fm.lang] || {});
              }
            },
            lang: lang
          },
          
          // Start elFinder (REQUIRED)
          start = function(elFinder, lang) {
            if ($('#elfinder').length) {
              // Optional for Japanese decoder "extras/encoding-japanese.min"
              if (window.Encoding && Encoding.convert) {
                elFinder.prototype._options.rawStringDecoder = function(s) {
                  return Encoding.convert(s,{to:'UNICODE',type:'string'});
                };
              }
              // Make elFinder (REQUIRED)
              $('#elfinder').elfinder(opts);
            } else {
              setTimeout(function() { start(elFinder, lang); }, 10);
            }
          },
          
          // JavaScript loader (REQUIRED)
          load = function() {
            require(
              [
                'elfinder'
                , 'i18nfmsg'
                , (lang !== 'en')? 'i18n/elfinder.'+lang : null    // load detected language
                , 'extras/quicklook.googledocs'                    // optional GoogleDocs preview
                , (lang === 'jp')? 'extras/encoding-japanese.min' : null // optional Japanese decoder for archive preview
                , xdr
              ],
              function(elFinder, i18nfmsg) {
                i18nFolderMsgs = i18nfmsg;
                start(elFinder, lang);
              },
              function(error) {
                if (lang !== 'en') {
                  // fallback to use lang = en
                  lang = 'en';
                  load();
                } else {
                  alert(error.message);
                }
              }
            );
          },
          
          // is IE8? for determine the jQuery version to use (optional)
          ie8 = (typeof window.addEventListener === 'undefined' && typeof document.getElementsByClassName === 'undefined'),
          xhr, xdr = null;

        // load jquery.xdr.js for old IE
        if (typeof document.uniqueID != 'undefined') {
          var xhr = new XMLHttpRequest();
          if (!('withCredentials' in xhr)) {
              xdr = rootPath+'/xdr/jquery.xdr.js';
          }
          xhr = null;
        }

        // config of RequireJS (REQUIRED)
        require.config({
          baseUrl : rootPath+'/js',
          paths : {
            'jquery'   : '//cdnjs.cloudflare.com/ajax/libs/jquery/'+(ie8? '1.12.4' : '3.1.1')+'/jquery.min',
            'jquery-ui': '//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min',
            'elfinder' : 'elfinder.min',
            'i18nfmsg' : '../../i18nFolderMsgs'
          },
          waitSeconds : 10 // optional
        });

        // load JavaScripts (REQUIRED)
        load();

      })();

      // Google Analytics
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-8689655-16']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body>
    <div class="wrap">
      <div class="header clearfix">
        <div class="logo">
          <a href="./"><img src="./images/elfinder-logo.png" alt="elFinder logo" /></a>
          <h1><a href="./">elFinder <span>file manager for web</span></a></h1>
        </div>

        <div class="download">
          <!--<a href="https://github.com/Studio-42/elFinder/archive/2.0.7.zip" class="download-button" onclick="_gaq.push(['_trackEvent', 'Github', 'Download']);">Download<br/><span>Version 2.0.7</span></a>-->
          <a href="https://github.com/Studio-42/elFinder/archive/2.1.18.zip" class="download-button" onclick="_gaq.push(['_trackEvent', 'Github', 'Download']);">Download<br/><span>Version 2.1.18</span></a>
        </div>

        <div class="menu">
          <ul>
            <li><a href="https://github.com/Studio-42/elFinder" onclick="_gaq.push(['_trackEvent', 'Github', 'Code']);">Code</a></li>
            <li><a href="https://github.com/Studio-42/elFinder/issues" onclick="_gaq.push(['_trackEvent', 'Github', 'Issues']);">Issues</a></li>
            <li><a href="https://github.com/Studio-42/elFinder/wiki" onclick="_gaq.push(['_trackEvent', 'Github', 'Wiki']);">Wiki</a></li>
            <li><a href="http://stackoverflow.com/questions/ask?tags=elfinder" onclick="_gaq.push(['_trackEvent', 'StackOverFlow', 'Question']);">Question</a> <a href="http://stackoverflow.com/questions/tagged/elfinder" onclick="_gaq.push(['_trackEvent', 'StackOverFlow', 'QuestionList']);"><small>(list)</small></a></li>
          </ul>
        </div>

      </div>

      <div class="content">
        <!-- <div class="message warning"><p>This demo will not work in Internet Explorer and Opera</p></div> -->

        <h2 class="text-center">elFinder 2.1.x, please <a href="https://github.com/Studio-42/elFinder/issues">report bugs here</a> or <a href="./tools/langman">send your translation</a>.</h2>

        <div id="elfinder"></div>

        <div class="footer">
          <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
          <input type="hidden" name="cmd" value="_donations">
          <input type="hidden" name="business" value="troex@fury.scancode.ru">
          <input type="hidden" name="lc" value="US">
          <input type="hidden" name="item_name" value="elRTE &amp; elFinder team">
          <input type="hidden" name="no_note" value="0">
          <input type="hidden" name="currency_code" value="USD">
          <input type="hidden" name="bn" value="PP-DonationsBF:btn_donate_LG.gif:NonHostedGuest">
          <input onclick="_gaq.push(['_trackEvent', 'PayPal', 'Donate']);" type="image" src="https://www.paypal.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
          <img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">
          </form>
        </div>

      </div>

      <div class="footer">
        <img src="./images/vintage.png" alt="" /><br/>
        <a href="http://www.std42.ru">Studio 42</a>
      </div>
    </div>
    <a href="https://github.com/Studio-42/elFinder" onclick="_gaq.push(['_trackEvent', 'Github', 'Fork me']);"><img style="position: absolute; top: 0; left: 0; border: 0;" src="./images/forkme-white.png" alt="Fork me on GitHub"></a>
  </body>
</html>
